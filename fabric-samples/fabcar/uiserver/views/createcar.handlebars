
<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
  <header class="mb-auto">
    <div>
      <h3 class="float-md-start mb-0">Sirius</h3>
      <nav class="nav nav-masthead justify-content-center float-md-end">
        <a class="nav-link active" aria-current="page" href="/">Início</a> 
        <a class="nav-link" href="/blockchain">O que é blockchain?</a>
        <a class="nav-link" href="/contato">Contato</a>
      </nav>
    </div>
  </header>
  </br>
    <main class="px-3">
        <h1>Actions</h1>
        <a id="bottomViewAll" class="btn btn-lg btn-secondary fw-bold border-green" style="width: 200px; align-self: center;margin-top: 10px;" href="/api/queryallcars" value="">View All</a>
        <br>
        <br>
        <a id="bottomInsert" class="btn btn-lg btn-secondary fw-bold border-green" style="width: 200px; align-self: center;margin-top: 10px; margin-bottom: 10px;" href="/api/createcar" value="">Insert</a>
    </main>
    <br><br><br>
    <form method="POST" action="/api/addcar">
        <fieldset class="fieldset">
            <legend class="legend"><b>Formulário de registro de escritura</b></legend>
            <fieldset class="fieldset">
                <legend class="legend"><b>Registro</b> </legend>
                <div class="row">
                     <div class="col">
                        <label for="campoUnicoIdentificacao" style="float: left;">Campo Único de Identificação:</label>
                        <input id="campoUnicoIdentificacao" name="campoUnicoIdentificacao" type="text" class="form-control" placeholder="Campo Único" required>
                    </div>  
                    <div class="col">
                        <label for="registroAno" style="float: left;">Ano:</label>
                        <input id="registroAno" name="registro[ano]" type="text" class="form-control" placeholder="Ano" required>
                    </div>
                    <div class="col">
                        <label for="registroOficialTitular" style="float: left;">Oficial titular:</label>
                        <input id="registroOficialTitular" name="registro[oficialTitular]" type="text" class="form-control" placeholder="Oficial titular" required>
                    </div>  
                </div>
                </br>
                <div class="row">
                    <div class="col">
                        <label for="registroNumeroMatricula" style="float: left;">Número da matrícula:</label>
                        <input id="registroNumeroMatricula" name="registro[numeroMatricula]" type="text" class="form-control" placeholder="Número da matrícula" required>
                    </div>
                    <div class="col">
                        <label for="registroFicha" style="float: left;">Ficha:</label>
                        <input id="registroFicha" name="registro[ficha]" type="text" class="form-control" placeholder="Ficha" required>
                    </div>
                    <div class="col">
                        <label for="registroData" style="float: left;">Data:</label>
                        <input id="registroData" name="registro[data]" type="text" class="form-control datepicker" placeholder="Data" required>
                    </div>
                </div>
                </br>
            </fieldset>
            <fieldset class="fieldset">
                <legend class="legend"><b>Imóvel</b></legend>
                <div class="row">            
                    <div class="form-group">
                        <label for="descricao" style="float: left;">Descrição:</label>
                        <textarea class="form-control" name="imovel[descricao]" id="descricao" name="descricao" rows="5"  placeholder="Descrição" required></textarea>
                    </div>
                </div>
                </br>
                <div class="row">            
                    <div class="col">                    
                        <label for="numero" style="float: left;">Número:</label>
                        <input type="text" name="imovel[numero]" id="numero" class="form-control" placeholder="Número" required>
                    </div>
                    <div class="col">
                        <label for="inscricao" style="float: left;">Inscrição:</label>
                        <input type="text" name="imovel[inscricao]" id="inscricao" class="form-control" placeholder="Inscrição" required>
                    </div>
                    <div class="col">
                        <label for="tipo" style="float: left;">Tipo:</label>
                        <input type="text" name="imovel[tipo]" id="tipo" class="form-control" placeholder="Tipo" required>
                    </div>
                </div>
                </br>
                <div class="row">
                    <div class="col">
                        <label for="endereco" style="float: left;">Endereço:</label>
                        <input type="text" name="imovel[endereco]" id="endereco" class="form-control" placeholder="Endereço" required>
                    </div>
                </div>
                </br>
                <div class="row">            
                    <div class="form-group">
                        <label for="composicao" style="float: left;">Composição:</label>
                        <textarea class="form-control" name="imovel[composicao]" id="composicao" rows="5"  placeholder="Composição" required></textarea>
                    </div>
                </div>
                </br>
                <fieldset class="fieldset">
                    <legend class="legend"><b>Coordenadas</b></legend>
                    <div class="row">
                        <div class="col">
                            <label for="marcoCoordenadas" style="float: left;">Marco:</label>
                            <input type="text" name="imovel[coordenadas][marco]" id="marcoCoordenadas" class="form-control" placeholder="Marco" required>
                        </div>
                        <div class="col">
                            <label for="norteCoordenadas" style="float: left;">Norte:</label>
                            <input type="text" name="imovel[coordenadas][norte]" id="norteCoordenadas" class="form-control" placeholder="Norte" required>
                        </div>
                        <div class="col">
                            <label for="lesteCoordenadas" style="float: left;">Leste:</label>
                            <input type="text" name="imovel[coordenadas][leste]" id="lesteCoordenadas" class="form-control" placeholder="Leste" required>
                        </div>
                    </div>
                    </br>
                    <div class="row">            
                        <div class="col">
                            <label for="planaCoordenadas" style="float: left;">Plana:</label>
                            <input type="text" name="imovel[coordenadas][plana]" id="planaCoordenadas" class="form-control" placeholder="Plana" required>
                        </div>
                        <div class="col">
                            <label for="azimutePlanoCoordenadas" style="float: left;">Azimute Plano:</label>
                            <input type="text" name="imovel[coordenadas][azimutePlano]" id="azimutePlanoCoordenadas" class="form-control" placeholder="Azimute Plano" required>
                        </div>
                    </div>
                </fieldset>
                <fieldset class="fieldset">
                    <legend class="legend"><b>Proprietário</b></legend>
                    <div class="row">
                        <div class="col">
                            <label for="nomeProprietario" style="float: left;">Proprietário:</label>
                            <input type="text" name="imovel[proprietario][nome]" id="nomeProprietario" class="form-control" placeholder="Proprietário" required>
                        </div>
                        <div class="col">
                            <label for="sedeProprietario" style="float: left;">Sede:</label>
                            <input type="text" name="imovel[proprietario][sede]" id="sedeProprietario" class="form-control" placeholder="Sede" required>
                        </div>
                        <div class="col">
                            <label for="cnpjMfProprietario" style="float: left;">CNPJ/MF:</label>
                            <input type="text" name="imovel[proprietario][cnpjMf]" id="cnpjMfProprietario" class="form-control" placeholder="CNPJ/MF" required>
                        </div>
                    </div>
                </fieldset>
                <fieldset class="fieldset">
                    <legend class="legend"><b>Escritura Pública</b></legend>
                    <div class="row">
                        <div class="col">
                            <label for="dataEscrituraPublica" style="float: left;">Data:</label>
                            <input type="text" name="imovel[escritura_publica][data]" id="dataEscrituraPublica" class="form-control datepicker" placeholder="Data" required>
                        </div>
                        <div class="col">
                            <label for="livroEscrituraPublica" style="float: left;">Livro:</label>
                            <input type="text" name="imovel[escritura_publica][livro]" id="livroEscrituraPublica" class="form-control" placeholder="Livro" required>
                        </div>
                    </div>
                    </br>
                    <fieldset class="fieldset">
                        <legend class="legend"><b>Registro</b></legend>
                        <div class="row">
                            <div class="col">
                                <label for="numeroRegistro" style="float: left;">Número:</label>
                                <input type="text" name="imovel[registro][numero]" id="numeroRegistro" class="form-control" placeholder="Número" required>
                            </div>
                            <div class="col">
                                <label for="dataRegistro" style="float: left;">Data:</label>
                                <input type="text" name="imovel[registro][data]" id="dataRegistro" class="form-control datepicker" placeholder="Data" required>
                            </div>
                            <div class="col">
                                <label for="matriculaRgRegistro" style="float: left;">Matrícula do RG:</label>
                                <input type="text" name="imovel[registro][matricula_rg]" id="matriculaRgRegistro" class="form-control" placeholder="Matrícula do RG" required>
                            </div>
                        </div>                   
                    </fieldset>
                    <fieldset class="fieldset">
                        <legend class="legend"><b>Matrícula</b></legend>
                        <div class="row">
                            <div class="col">
                                <label for="numeroMatricula" style="float: left;">Número:</label>
                                <input type="text" name="imovel[matricula][numero]" id="numeroMatricula" class="form-control" placeholder="Número" required>
                            </div>
                            <div class="col">
                                <label for="dataMatricula" style="float: left;">Data:</label>
                                <input type="text" name="imovel[matricula][data]" id="dataMatricula" class="form-control datepicker" placeholder="Data" required>
                            </div>                    
                        </div>                  
                    </fieldset>
                    <fieldset class="fieldset">
                        <legend class="legend"><b>Requerimento</b></legend>
                        <div class="row">
                            <div class="col">
                                <label for="dataTermoRequerimento" style="float: left;">Data do Termo:</label>
                                <input type="text" name="imovel[requerimento][dataTermo]" id="dataTermoRequerimento" class="form-control datepicker" placeholder="Data do Termo" required>
                            </div>
                            <div class="col">
                                <label for="numeroAverbacaoRequerimento" style="float: left;">Número da averbação:</label>
                                <input type="text" name="imovel[requerimento][numeroAverbacao]" id="numeroAverbacaoRequerimento" class="form-control" placeholder="Número da averbação" required>
                            </div>
                            <div class="col">
                                <label for="dataAverbacaoRequerimento" style="float: left;">Data da averbação:</label>
                                <input type="text" name="imovel[requerimento][dataAverbacao]" id="dataAverbacaoRequerimento" class="form-control datepicker" placeholder="Data da averbação" required>
                            </div>                     
                        </div>                  
                    </fieldset>               
                </fieldset>
            </fieldset>
            <fieldset class="fieldset" id="fieldsetAverbacao">
                <legend class="legend"><b>Averbação(ôes)</b></legend>
                <fieldset class="fieldset rowFieldsetAverbacao">
                    <legend class="legend"><b>Averbação 1</b></legend>
                    <table id="tableAverbacao">
                        <tbody class="tbodyAverbacao">
                            <tr>
                                <td>
                                    <label for="" style="float: left;">Protocolo:</label>
                                    <input type="text" name="averbacao[protocolo]" class="form-control" placeholder="Protocolo" required>
                                </td>
                                <td>
                                    <label for="" style="float: left;">Sub-Oficial:</label>
                                    <input type="text" name="averbacao[subOficial]" class="form-control" placeholder="Sub-Oficial" required>
                                </td>
                                <td>
                                    <label for="" style="float: left;">Comarca:</label>
                                    <input type="text" name="averbacao[comarca]"  class="form-control" placeholder="Comarca" required>
                                </td> 
                                <td>
                                    <label for="" style="float: left;">Favorecido:</label>
                                    <input type="text" name="averbacao[favorecido]"  class="form-control" placeholder="Favorecido" required>
                                </td>
                                <td>
                                    <label for="" style="float: left;">Matrícula:</label>
                                    <input type="text" name="averbacao[matricula]"  class="form-control" placeholder="Matrícula" required>
                                </td> 
                            </tr> 
                            </br>
                            <tr>
                                <td>
                                    <label for="numero_dajeAv2" style="float: left;">Nº DAJE:</label>
                                    <input type="text" name="averbacao[numero_daje]" class="form-control" placeholder="Número do DAJE" required>
                                </td>
                                <td>
                                    <label for="dataAv2" style="float: left;">Data:</label>
                                    <input type="text" name="averbacao[data]" class="form-control datepicker" placeholder="Data" required>
                                </td>
                                <td>
                                    <label for="responsavelAv2" style="float: left;">Responsável:</label>
                                    <input type="text" name="averbacao[responsavel]" class="form-control" placeholder="Responsável" required>
                                </td>  
                                <td>
                                    <label for="enderecoAv1" style="float: left;">Endereço:</label>
                                    <input type="text" name="averbacao[endereco]" class="form-control" placeholder="Endereço" required>
                                </td>  
                                <td>
                                    <label for="estadoAv2" style="float: left;">Estado:</label>
                                    <input type="text" name="averbacao[estado]" class="form-control" placeholder="Estado" required>
                                </td>                                       
                            </tr>   
                            <tr>
                                <td colspan="5">                                 
                                    <a type="button" class="btn btn-lg btn-secondary fw-bold border-red deleteAverbacao" style="text-decoration: none; float:right; margin: 10px;">Excluir</a>     
                                    <br><br>                   
                                </td>
                            </tr> 
                        </tbody>
                    </table>
                </fieldset> 
            </fieldset>
            <table>
                <tr>
                    <a type="button" class="btn btn-lg btn-secondary fw-bold border-blue" style="text-decoration: none; float:right; margin: 10px;" id="createAverbacao">Adicionar averbação</a>                        
                </tr>                                       
            </table> 
        </fieldset>
        <input id="bottomEnviar" class="btn btn-lg btn-secondary fw-bold border-green" style="width: 100px; align-self: center;" type="Submit" value="Submit">
    </form>
    <footer class="mt-auto text-white-50">
      <p>© 2022 Sirius - Todos Os Direitos Reservados</p>
    </footer>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

<script>
    $(document).ready(function(){
        $("#createAverbacao").on('click',function (e) {
            e.preventDefault();
            var indexAtual = $(".rowFieldsetAverbacao").length+1;
                            
                var html = '<fieldset class="fieldset rowFieldsetAverbacao" index="'+indexAtual+'" >\n';  
                html += '       <legend class="legend"><b>Averbação '+indexAtual+'</b></legend>\n';  
                html += '       <table class="tableAverbacao">\n';  
                //html += '            <tr style="width: 100%;">\n';
                //html += '               <td colspan="4">\n';
                //html += '                   <label style="/*! align-content: center; */margin-left: 105px;"><b>Averbação '+indexAtual+'</b></label>\n';
                //html += '               </td>\n';
                //html += '            </tr>\n';

                //html += '            <tr style="width: 100%;">\n';

                html += '            <tr>\n';
                html += '               <td>\n';
                html += '                   <label for="protocoloAv1" style="float: left;">Protocolo:</label>\n';
                html += '                   <input type="text" name="averbacao[protocolo]" id="protocoloAv1" class="form-control" placeholder="Protocolo" required>\n';
                html += '               </td>\n';
            
                html += '               <td>\n';
                html += '                   <label for="subOficialAv2" style="float: left;">Sub-Oficial:</label>\n';
                html += '                   <input type="text" name="averbacao[subOficial]" id="subOficialAv2" class="form-control" placeholder="Sub-Oficial" required>\n';
                html += '               </td>\n';
            
                html += '               <td>\n';
                html += '                   <label for="comarcaAv2" style="float: left;">Comarca:</label>\n';
                html += '                   <input type="text" name="averbacao[comarca]" id="comarcaAv2" class="form-control" placeholder="Comarca" required>\n';
                html += '               </td>\n';   

                html += '               <td>\n';
                html += '                   <label for="favorecidoAv1" style="float: left;">Favorecido:</label>\n';
                html += '                   <input type="text" name="averbacao[favorecido]" id="favorecidoAv1" class="form-control" placeholder="Favorecido" required>\n';
                html += '               </td>\n'; 

                html += '               <td>\n';
                html += '                   <label for="matriculaAv1" style="float: left;">Matricula:</label>\n';
                html += '                   <input type="text" name="averbacao[matricula]" id="matriculaAv1" class="form-control" placeholder="Matrícula" required>\n';
                html += '               </td>\n';        
                html += '            </tr>\n';               
                html += '            </br>\n';   

                html += '            <tr>\n';
                html += '               <td>\n';
                html += '                   <label for="numero_dajeAv2" style="float: left;">Número Daje:</label>\n';
                html += '                   <input type="text" name="averbacao[numero_daje]" id="numero_dajeAv2" class="form-control" placeholder="Múmero do DAJE" required>\n';
                html += '               </td>\n';

                html += '               <td>\n';
                html += '                   <label for="dataAv2" style="float: left;">Data:</label>\n';
                html += '                   <input type="text" name="averbacao[data]" id="dataAv2" class="form-control" placeholder="Data" required>\n';
                html += '               </td>\n';

                html += '               <td>\n';
                html += '                   <label for="responsavelAv2" style="float: left;">Responsável:</label>\n';
                html += '                   <input type="text" name="averbacao[responsavel]" id="responsavelAv2" class="form-control" placeholder="Responsável" required>\n';
                html += '               </td>\n';     
                                    
                html += '               <td>\n';
                html += '                   <label for="enderecoAv1" style="float: left;">Endereço:</label>\n';
                html += '                   <input type="text" name="averbacao[endereco]" id="enderecoAv1" class="form-control" placeholder="Endereço" required>\n';
                html += '               </td>\n';     

                html += '               <td>\n';
                html += '                   <label for="estadoAv2" style="float: left;">Estado:</label>\n';
                html += '                   <input type="text" name="averbacao[estado]" id="estadoAv2" class="form-control" placeholder="Estado" required>\n';
                html += '                   <hr size="10" width="50%" align="center" noshade>\n';     
                html += '               </td>\n';  
                html += '            </tr>\n';
                html += '            <tr>\n';
                html += '               <td colspan="5">\n';
                html += '                   <a type="button" class="btn btn-lg btn-secondary fw-bold border-red deleteAverbacao" style="text-decoration: none; float:right; margin: 10px;" >Excluir</a>\n';
                html += '               </td>\n';
                html += '            </tr>\n';
                html += '       </table>\n';  
                html += '   </fieldset>\n';  

            $('#fieldsetAverbacao').append(html);
            //$('.datepicker').datepicker();
            $(".deleteAverbacao").on('click',function (e) {
                e.preventDefault();
                $(this).closest("fieldset").remove();
            });
        });

        $(".deleteAverbacao").on('click',function (e) {
            e.preventDefault();
            $(this).closest("fieldset").remove();
        });

    });
    
</script>